---
title: UML 类图
---

<!-- TOC -->

- [UML 介绍](#uml-介绍)
  - [UML 特点](#uml-特点)
  - [UML 模型](#uml-模型)
  - [UML 图形](#uml-图形)
  - [相关概念](#相关概念)
- [类图](#类图)
  - [介绍](#介绍)
  - [用途](#用途)
  - [实例层级的关系](#实例层级的关系)
    - [外部链接](#外部链接)
    - [泛化/继承](#泛化继承)
    - [实现](#实现)
    - [依赖](#依赖)
    - [关联](#关联)
    - [聚合](#聚合)
    - [组合](#组合)
    - [关联、组合和聚合的差异](#关联组合和聚合的差异)
    - [综合比较](#综合比较)
- [参考](#参考)

<!-- /TOC -->

<a id="markdown-uml-介绍" name="uml-介绍"></a>

## UML 介绍

统一建模语言（英语：Unified Modeling Language，缩写 UML）是非专利的第三代建模和规约语言。

<a id="markdown-uml-特点" name="uml-特点"></a>

### UML 特点

UML 是一种开放的方法。
UML 用于说明、可视化、构建和编写一个正在开发的、面向对象的、软件密集系统的制品的开放方法。
UML 展现了一系列最佳工程实践，这些最佳实践在对大规模，复杂系统进行建模方面，特别是在软件架构层次已经被验证有效。

<a id="markdown-uml-模型" name="uml-模型"></a>

### UML 模型

在 UML 系统开发中有三个主要的模型：

功能模型：从用户的角度展示系统的功能，包括用例图。
对象模型：采用对象，属性，操作，关联等概念展示系统的结构和基础，包括类别图、对象图。
动态模型：展现系统的内部行为。包括序列图，活动图，状态图。

区分 UML 模型和 UML 图是非常重要的，UML 图，包括用例图、协作图、活动图、序列图、部署图、构件图、类图、状态图，是模型中信息的图形表达方式，但是 UML 模型独立于 UML 图存在。UML 的当前版本只提供了模型信息的交换，而没有提供图信息的交换。

UML 使用一套与 Java 语言或其他面向对象语言等价物，同时也是本体论等价物的图形标记。

UML 并不是一个方法学，也不要求使用一个方法学，但是 UML 对于 Rational 统一过程来说是必不可少的。

<a id="markdown-uml-图形" name="uml-图形"></a>

### UML 图形

UML2.2 分类 UML2.2 中一共定义了 14 种图示，结构如图所示：

![Uml_diagram]()

UML 分类如下：

- 结构性图形（Structure diagrams）强调的是系统式的建模：

  - 静态图（static diagram）

    - 类图
    - 对象图
    - 包图

  - 实现图（implementation diagram）

    - 组件图
    - 部署图

  - 剖面图
  - 复合结构图

- 行为式图形（Behavior diagrams）强调系统模型中触发的事件：

  - 活动图
  - 状态图
  - 用例图

- 交互性图形（Interaction diagrams），属于行为图形的子集合，强调系统模型中的资料流程：

  - 通信图
  - 交互概述图（UML 2.0）
  - 时序图（UML 2.0）
  - 时间图（UML 2.0）

<a id="markdown-相关概念" name="相关概念"></a>

### 相关概念

UML 从来源中使用相当多的概念。我们将之定义于统一建模语言术语汇表。下面仅列代表性的概念。

- 对于结构而言

  [执行者](https://zh.wikipedia.org/w/index.php?title=執行者&action=edit&redlink=1) **·** [属性](<https://zh.wikipedia.org/w/index.php?title=属性_(计算机科学)&action=edit&redlink=1>) **·** [类](<https://zh.wikipedia.org/wiki/类_(计算机科学)>) **·** [组件](https://zh.wikipedia.org/wiki/组件图) **·** [接口](https://zh.wikipedia.org/wiki/接口) **·** [对象](<https://zh.wikipedia.org/wiki/对象_(计算机科学)>) **·** [包](https://zh.wikipedia.org/wiki/软件包)

- 对于行为而言

  [活动](<https://zh.wikipedia.org/w/index.php?title=活動_(UML)&action=edit&redlink=1>) **·** [事件](<https://zh.wikipedia.org/w/index.php?title=事件_(UML)&action=edit&redlink=1>) **·** [消息](<https://zh.wikipedia.org/wiki/訊息傳遞_(軟體)>) **·** [方法](<https://zh.wikipedia.org/wiki/方法_(電腦科學)>) **·** [操作](https://zh.wikipedia.org/w/index.php?title=操作&action=edit&redlink=1) **·** [状态](<https://zh.wikipedia.org/w/index.php?title=狀態_(電腦科學)&action=edit&redlink=1>) **·** [用例](https://zh.wikipedia.org/wiki/用例)

- 对于关系而言

  聚合 **·** 关联 **·** 组合 **·** [相依](<https://zh.wikipedia.org/wiki/耦合性_(計算機科學)>) **·** [泛化](https://zh.wikipedia.org/wiki/泛化)（[继承](<https://zh.wikipedia.org/wiki/继承_(计算机科学)>))

- 其他概念
  - [构造型](<https://zh.wikipedia.org/w/index.php?title=構造型_(計算)&action=edit&redlink=1>) — 这规范符号应用到的模型
  - [多重性](https://zh.wikipedia.org/wiki/類別圖#多重性) — 多重性标记法与资料库建模基数对应，例如：1, 0..1, 1..\*
  - [角色](<https://zh.wikipedia.org/w/index.php?title=角色_(UML)&action=edit&redlink=1>)

<a id="markdown-类图" name="类图"></a>

## 类图

<a id="markdown-介绍" name="介绍"></a>

### 介绍

类图（Class Diagram）是面向对象式的建模。描述了系统的类集合，类的属性和类之间的关系。用于表示类、接口、实例等之间相互的静态关系（描述系统的结构化设计）。类图最基本的元素是类或者接口。

![class_diagram]()

<a id="markdown-用途" name="用途"></a>

### 用途

类图主要用在面向对象软件开发的分析和设计阶段，描述系统的静态结构。类图图示了所构建系统的所有实体、实体的内部结构以及实体之间的关系。即．类图中包含从用户的客观世界模型中抽象出来的类、类的内部结构和类与类之间的关系。它是构建其他设计模型的基础，没有类图，就没有对象图、状态图、协作图等其他 UMI．动态模型图．也就无法表示系统的动态行为。类图也是面向对象编程的起点和依据。

<a id="markdown-实例层级的关系" name="实例层级的关系"></a>

### 实例层级的关系

![uml_class_diagram_en]()

<a id="markdown-外部链接" name="外部链接"></a>

#### 外部链接

外部链接（External links）是对象之间的基本关系。

<a id="markdown-泛化继承" name="泛化继承"></a>

#### 泛化/继承

泛化（Generalization）/继承（Inheritance）是一般（父类）与特殊（子类）的关系，是类与类或者接口与接口之间最常见的关系。它指定了子类如何特化父类的所有特征和行为。子类可视为其父类的特例，并可以增加新功能。在 Java 中此类关系通过关键字 extends 明确标识，在设计时一般没有争议性。

例如：老虎是动物的一种，即有老虎的特性也有动物的共性。

用**带空心三角形箭头的实线**表示，由**子类指向父类**。

![Inheritance]()

<a id="markdown-实现" name="实现"></a>

#### 实现

实现（Realization）是一种类与接口的关系，表示类是接口所有特征和行为的实现。指的是一个 class 类实现 interface 接口（可以是多个）的功能；在 Java 中此类关系通过关键字 implements 明确标识，在设计时一般没有争议性。

例如：母鸡可以下蛋，即母鸡（类）实现了下蛋（接口）。

用**带空心三角形箭头的虚线**表示，由**类指向接口**。

![Realization]()

<a id="markdown-依赖" name="依赖"></a>

#### 依赖

依赖（Dependency）是一个类依赖于另外一个类的关系（类与类之间的一种使用与被使用的关系），可以理解为一个类 A 使用到了另一个类 B，" ... uses a ..."，被依赖的对象只是作为一种工具在使用，而并不持有对它的引用。而这种使用关系是具有偶然性、临时性的、非常弱的，但是 B 类的变化会影响到 A；表现在代码层面，类 B 作为参数被类 A 在某个 method（方法）中使用。

例如：学生在 A301 教室上选修课，A301 教室只是作为学生临时的上课地点，此时学生与教室之间的关系就是依赖关系。

例如：人类呼吸需要氧气。氧气是人体进行新陈代谢的关键物质，如果没有氧气人类无法呼吸。此时人类与氧气就是依赖关系。

用**带燕尾箭头的虚线**表示。由**使用者指向被使用者（依赖对象）**。也就是类 A 指向类 B。

![Dependency]()

<a id="markdown-关联" name="关联"></a>

#### 关联

关联（Association）两个相对独立的对象，当一个对象的实例与另一个对象的一些特定实例存在固定的对应关系时

在语义上是两个类之间、或类与接口之间一种强依赖关系，是一种长期的稳定的关系，" ... has a ..." 。关联关系使一个类知道另外一个类的属性和方法；通常含有“知道”、“了解”的含义。

某个对象会长期的持有另一个对象的引用，关联的两个对象彼此间没有任何强制性的约束，只要二者同意，可以随时解除关系或是进行关联，它们在生命期问题上没有任何约定。被关联的对象还可以再被别的对象关联，所以关联是可以共享的。 在代码层面上，被关联类以类属性的形式出现在关联类中，也可能是关联类引用了一个类型为被关联类的全局变量。目前定义有五种不同类型的关联。双向（Bi-directional）和单向（uni-directional）的关联是最常见的。

用**带燕尾箭头的实线（单向关联）或者不带箭头的实线（相互关联）**表示。由**使用者指向被使用者（依赖对象）**。也就是类 A 指向类 B。

例如：下图中老师与学生是双向关联，老师有多名学生，学生也可能有多名老师。但学生与某课程间的关系为单向关联，一名学生可能要上多门课程，课程是个抽象的东西他不拥有学生。

![Association]()

<a id="markdown-聚合" name="聚合"></a>

#### 聚合

聚合（Aggregation）是表示整体与部分的一类特殊的关联关系，是“弱”的包含（" ... owns a ..." ）关系，成分类可以不依靠聚合类而单独存在，可以具有各自的生命周期，部分可以属于多个整体对象，也可以为多个整体对象共享（sharable）。

例如：池塘与（池塘中的）鸭子。再例如教授与课程就是一种聚合关系。又例如图书馆包含(owns a) 学生和书籍。即使没有图书馆，学生亦可以存在，学生和图书馆之间的关系是聚集。聚集可能不涉及两个以上的类。

用**空心的菱形箭尾实线**表示，**空心菱形指向整体，箭头指向部分**。

![Aggregation]()

<a id="markdown-组合" name="组合"></a>

#### 组合

组合（Composition）关系，是一类“强”的整体与部分的包含关系（" ... **is a part of** ..."）。成分类必须依靠合成类而存在。整体与部分是不可分的，整体的生命周期结束也就意味着部分的生命周期结束。合成类别完全拥有成分类别，负责创建、销毁成分类别。

例如：汽车与化油器，又例如公司与公司部门就是一种组成关系。

用**实心的菱形箭尾实线**表示，**实心菱形指向整体，箭头指向部分**。

```java
// Composition
class Car
{
private:

    // Car is the owner of carburetor.
    // Carburetor is created when Car is created,
    // it is destroyed when Car is destroyed.
    Carburetor carb;

};
```

![Composition]()

<a id="markdown-关联组合和聚合的差异" name="关联组合和聚合的差异"></a>

#### 关联、组合和聚合的差异

关系所表现的强弱程度依次为：组合>聚合>关联。

当一个类作为另一个类某个方法的参数时，为关联关系。

两者的差别主要描述了子类的生命周期的不同。组合关系中，一旦父类被销毁子类也会随之销毁；聚合关系中，子类的生命周期与父类独立。例如，一个大学包含若干个系（如化学系），每个系由若干名教授。如果大学撤销，这些系也就不复存在了，但这些教授仍会继续存在。还需注意，一名教授可以在不同系甚至不同学校兼职，而一个系不能属于两所大学。所以，大学与系之间是组合关系，而系与教授是聚合关系。

![Aggregation-Composition3]()

<a id="markdown-综合比较" name="综合比较"></a>

#### 综合比较

- 聚合与组合

  - 聚合与组合都是一种结合关系，只是额外具有整体-部分的意涵。

  - 部件的生命周期不同

    - 聚合关系中，整件不会拥有部件的生命周期，所以整件删除时，部件不会被删除。再者，多个整件可以共享同一个部件。

    - 组合关系中，整件拥有部件的生命周期，所以整件删除时，部件一定会跟着删除。而且，多个整件不可以同时间共享同一个部件。

  - 聚合关系是"has-a"关系，组合关系是"contains-a"关系。

- 关联和聚合

  - 表现在代码层面，和关联关系是一致的，只能从语义级别来区分。
  - 关联和聚合的区别主要在语义上，关联的两个对象之间一般是平等的，例如你是我的朋友，聚合则一般不是平等的。
  - 关联是一种结构化的关系，指一种对象和另一种对象有联系。
  - 关联和聚合是视问题域而定的，例如在关心汽车的领域里，轮胎是一定要组合在汽车类中的，因为它离开了汽车就没有意义了。但是在卖轮胎的店铺业务里，就算轮胎离开了汽车，它也是有意义的，这就可以用聚合了。

- 关联和依赖

  - 关联关系中，体现的是两个类、或者类与接口之间语义级别的一种强依赖关系，比如我和我的朋友；这种关系比依赖更强、不存在依赖关系的偶然性、关系也不是临时性的，一般是长期性的，而且双方的关系一般是平等的。
  - 依赖关系中，可以简单的理解，就是一个类 A 使用到了另一个类 B，而这种使用关系是具有偶然性的、临时性的、非常弱的，但是 B 类的变化会影响到 A。

- 综合比较
  - 这几种关系都是语义级别的，所以从代码层面并不能完全区分各种关系；但总的来说，后几种关系所表现的强弱程度依次为：**泛化/继承=实现>组合>聚合>关联>依赖**

<a id="markdown-参考" name="参考"></a>

## 参考

- [统一建模语言 - 维基百科](https://zh.wikipedia.org/wiki/%E7%BB%9F%E4%B8%80%E5%BB%BA%E6%A8%A1%E8%AF%AD%E8%A8%80)
- [类图 - 维基百科](https://zh.wikipedia.org/wiki/%E9%A1%9E%E5%88%A5%E5%9C%96)
- [继承/泛化、实现、依赖、关联、聚合、组合的联系与区别](https://www.cnblogs.com/scevecn/p/5663369.html)
